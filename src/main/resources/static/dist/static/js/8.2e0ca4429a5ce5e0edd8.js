webpackJsonp([8],{"TKn+":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("fZjL"),l=o.n(a),s={name:"Users",data:function(){return{tableData:[],newform:{cName:"",account:"",password:"",email:"",phone:""},dialogFormVisible:!1,formLabelWidth:"120px",form:{name:"",region:""},keys:[],index:"",dialogVisible:!1,personMessege:{},userInput:""}},methods:{handleEdit:function(e,t){this.index=e,this.dialogFormVisible=!0,this.keys=l()(t),this.personMessege=t,this.form=t},handleDelete:function(e,t){var o=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.$axios.delete("http://192.168.1.155:8888/CPController/"+t.cId).then(function(e){e.data?(o.$message({message:"恭喜你，删除成功",type:"success"}),window.location.reload()):o.$message.error("删除失败")})}).catch(function(){o.$message({type:"info",message:"已取消删除"})})},updateUser:function(){var e=this;this.dialogFormVisible=!1;var t=this.personMessege;t[this.form.region]=this.form.name,this.$axios.put("http://192.168.1.155:8888/CPController",t).then(function(t){t.data?(e.$message({message:"恭喜你，修改成功",type:"success"}),window.location.reload()):e.$message.error("修改失败")})},addUser:function(){this.dialogVisible=!0},addMessage:function(){var e=this;this.dialogVisible=!1,this.$axios.post("http://192.168.1.155:8888/CPController/insert",this.newform).then(function(t){t.data?(e.$message({message:"恭喜你，添加成功",type:"success"}),window.location.reload()):e.$message.error("添加失败")})},cheack:function(){var e=this,t={cName:this.userInput};this.$axios.post("http://192.168.1.155:8888/CPController/query",t).then(function(t){t.data.length?e.tableData=t.data:e.$message({message:"没有查找到数据",type:"warning"}),e.userInput=""})}},mounted:function(){var e=this;this.$axios.get("http://192.168.1.155:8888/CPController").then(function(t){e.tableData=t.data})}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"users"},[o("div",{staticClass:"clearfix",staticStyle:{height:"60px","line-height":"60px"},attrs:{slot:"header"},slot:"header"},[o("div",[o("div",{staticStyle:{"font-size":"20px","font-weight":"bold",height:"50px","line-height":"50px",width:"48%",float:"left"}},[e._v("负责人管理")]),e._v(" "),o("div",{staticStyle:{float:"right","margin-right":"10px",height:"50px","line-height":"50px",width:"50%","text-align":"right"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入负责人名字"},model:{value:e.userInput,callback:function(t){e.userInput=t},expression:"userInput"}}),o("el-button",{attrs:{type:"info"},on:{click:e.cheack}},[e._v("查询")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("添加")])],1)])]),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[o("el-table-column",{attrs:{prop:"cName",label:"名字",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{prop:"email",label:"邮箱地址"}}),e._v(" "),o("el-table-column",{attrs:{prop:"phone",label:"移动电话"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"账号"}}),e._v(" "),o("el-table-column",{attrs:{prop:"methods",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"small"},on:{click:function(o){return e.handleEdit(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{size:"small  ",type:"danger"},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"修改信息",visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"名字"}},[o("el-input",{model:{value:e.form.cName,callback:function(t){e.$set(e.form,"cName",t)},expression:"form.cName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"账号"}},[o("el-input",{model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮箱"}},[o("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话"}},[o("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.updateUser}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"增加配置信息",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.newform,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"名字"}},[o("el-input",{model:{value:e.newform.cName,callback:function(t){e.$set(e.newform,"cName",t)},expression:"newform.cName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"账号"}},[o("el-input",{model:{value:e.newform.account,callback:function(t){e.$set(e.newform,"account",t)},expression:"newform.account"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{attrs:{"show-password":""},model:{value:e.newform.password,callback:function(t){e.$set(e.newform,"password",t)},expression:"newform.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮箱"}},[o("el-input",{model:{value:e.newform.email,callback:function(t){e.$set(e.newform,"email",t)},expression:"newform.email"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话"}},[o("el-input",{model:{value:e.newform.phone,callback:function(t){e.$set(e.newform,"phone",t)},expression:"newform.phone"}})],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.addMessage}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var n=o("VU/8")(s,i,!1,function(e){o("asSW")},"data-v-2b1779c6",null);t.default=n.exports},asSW:function(e,t){}});
//# sourceMappingURL=8.2e0ca4429a5ce5e0edd8.js.map